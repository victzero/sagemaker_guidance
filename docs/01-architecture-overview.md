# 01 - æ¶æ„æ¦‚è§ˆ

> æœ¬æ–‡æ¡£æè¿° SageMaker AI/ML å¹³å°çš„æ•´ä½“æ¶æ„è®¾è®¡

---

## å ä½ç¬¦è¯´æ˜

> ğŸ“Œ æœ¬æ–‡æ¡£ä½¿ç”¨ä»¥ä¸‹å ä½ç¬¦ï¼Œå®æ–½æ—¶è¯·æ›¿æ¢ä¸ºå®é™…å€¼ã€‚

| å ä½ç¬¦ | è¯´æ˜ | ç¤ºä¾‹å€¼ |
|--------|------|--------|
| `{company}` | å…¬å¸/ç»„ç»‡åç§°å‰ç¼€ | `acme` |
| `{team}` | å›¢é˜Ÿç¼©å†™ | `rc`ï¼ˆé£æ§ï¼‰ã€`algo`ï¼ˆç®—æ³•ï¼‰ |
| `{project}` | é¡¹ç›®åç§° | `project-a`ã€`project-x` |
| `{name}` | ç”¨æˆ·å | `alice`ã€`frank` |

---

## 0. è®¾è®¡èŒƒå›´å£°æ˜

> âš ï¸ **é‡è¦**ï¼šæœ¬è®¾è®¡ä»…è¦†ç›– **ML å®éªŒä¸å¼€å‘ç¯å¢ƒ**ï¼Œä¸åŒ…å«ç”Ÿäº§æ¨ç†éƒ¨ç½²ã€‚

| èŒƒå›´         | åŒ…å«                             | ä¸åŒ…å«              |
| ------------ | -------------------------------- | ------------------- |
| **ç¯å¢ƒå®šä½** | æ¨¡å‹æ¢ç´¢ã€ç‰¹å¾å·¥ç¨‹ã€æ¨¡å‹è®­ç»ƒå®éªŒ | ç”Ÿäº§çº§æ¨ç† Endpoint |
| **ç”¨æˆ·**     | æ•°æ®ç§‘å­¦å®¶ã€ç®—æ³•å·¥ç¨‹å¸ˆ           | åœ¨çº¿æœåŠ¡è°ƒç”¨æ–¹      |
| **æ•°æ®**     | å®éªŒæ•°æ®ã€è®­ç»ƒæ•°æ®               | ç”Ÿäº§å®æ—¶æ•°æ®æµ      |
| **SLA**      | å¼€å‘ç¯å¢ƒçº§åˆ«                     | ç”Ÿäº§é«˜å¯ç”¨è¦æ±‚      |

**ç”Ÿäº§æ¨ç†ç¯å¢ƒå»ºè®®**ï¼š

- ä½¿ç”¨ç‹¬ç«‹ AWS è´¦å·æˆ–å®Œå…¨éš”ç¦»çš„ VPC
- å•ç‹¬è®¾è®¡ IAM è§’è‰²å’Œç½‘ç»œç­–ç•¥
- é…ç½®ç”Ÿäº§çº§ç›‘æ§ã€å‘Šè­¦å’Œè‡ªåŠ¨æ‰©ç¼©å®¹

---

## 1. è®¾è®¡ç›®æ ‡

| ç›®æ ‡           | è¯´æ˜                                |
| -------------- | ----------------------------------- |
| **å›¢é˜Ÿéš”ç¦»**   | é£æ§å›¢é˜Ÿä¸ç®—æ³•å›¢é˜Ÿèµ„æºéš”ç¦»          |
| **é¡¹ç›®éš”ç¦»**   | åŒä¸€å›¢é˜Ÿå†…ä¸åŒé¡¹ç›®æ•°æ®éš”ç¦»          |
| **åä½œå…±äº«**   | åŒä¸€é¡¹ç›®å†…æˆå‘˜å¯å…±äº« Notebookã€æ•°æ® |
| **æƒé™æœ€å°åŒ–** | éµå¾ªæœ€å°æƒé™åŸåˆ™                    |
| **å¯æ‰©å±•**     | æ”¯æŒåç»­å›¢é˜Ÿ/é¡¹ç›®æ‰©å±•               |

---

## 2. å›¢é˜Ÿä¸é¡¹ç›®ç»„ç»‡

### 2.1 ç»„ç»‡ç»“æ„

```
ML Platform
â”œâ”€â”€ é£æ§å›¢é˜Ÿ (risk-control)
â”‚   â”œâ”€â”€ rc-project-a (é£æ§é¡¹ç›®A)
â”‚   â”‚   â”œâ”€â”€ user-rc-alice
â”‚   â”‚   â”œâ”€â”€ user-rc-bob
â”‚   â”‚   â””â”€â”€ user-rc-carol
â”‚   â”œâ”€â”€ rc-project-b (é£æ§é¡¹ç›®B)
â”‚   â”‚   â”œâ”€â”€ user-rc-david
â”‚   â”‚   â””â”€â”€ user-rc-emma
â”‚   â””â”€â”€ rc-project-c (é£æ§é¡¹ç›®C) [å¯é€‰]
â”‚
â””â”€â”€ ç®—æ³•å›¢é˜Ÿ (algorithm)
    â”œâ”€â”€ algo-project-x (ç®—æ³•é¡¹ç›®X)
    â”‚   â”œâ”€â”€ user-algo-frank
    â”‚   â”œâ”€â”€ user-algo-grace
    â”‚   â””â”€â”€ user-algo-henry
    â”œâ”€â”€ algo-project-y (ç®—æ³•é¡¹ç›®Y)
    â”‚   â”œâ”€â”€ user-algo-ivy
    â”‚   â””â”€â”€ user-algo-jack
    â””â”€â”€ algo-project-z (ç®—æ³•é¡¹ç›®Z) [å¯é€‰]
```

### 2.2 å‘½åè§„èŒƒ

| èµ„æºç±»å‹         | å‘½åæ¨¡å¼                                   | ç¤ºä¾‹                                           |
| ---------------- | ------------------------------------------ | ---------------------------------------------- |
| IAM Group (å›¢é˜Ÿ) | `sagemaker-{team}`                         | `sagemaker-risk-control`                       |
| IAM Group (é¡¹ç›®) | `sagemaker-{team}-{project}`               | `sagemaker-risk-control-project-a`             |
| IAM User         | `sm-{team}-{name}`                         | `sm-rc-alice`                                  |
| IAM Role         | `SageMaker-{Team}-{Project}-ExecutionRole` | `SageMaker-RiskControl-ProjectA-ExecutionRole` |
| S3 Bucket        | `{company}-sm-{team}-{project}`            | `acme-sm-rc-project-a`                         |
| SageMaker Space  | `space-{team}-{project}`                   | `space-rc-project-a`                           |

---

## 3. èµ„æºå±‚çº§æ¶æ„

### 3.1 AWS èµ„æºå±‚çº§

```
AWS Account
â”‚
â”œâ”€â”€ IAM å±‚
â”‚   â”œâ”€â”€ IAM Groups (æŒ‰å›¢é˜Ÿ + é¡¹ç›®)
â”‚   â”œâ”€â”€ IAM Users (å¼€å‘äººå‘˜)
â”‚   â”œâ”€â”€ IAM Roles (SageMaker æ‰§è¡Œè§’è‰²)
â”‚   â””â”€â”€ IAM Policies (æƒé™ç­–ç•¥)
â”‚
â”œâ”€â”€ ç½‘ç»œå±‚
â”‚   â”œâ”€â”€ VPC (ä½¿ç”¨ç°æœ‰)
â”‚   â”œâ”€â”€ Subnets (Private)
â”‚   â”œâ”€â”€ Security Groups
â”‚   â””â”€â”€ VPC Endpoints
â”‚
â”œâ”€â”€ å­˜å‚¨å±‚
â”‚   â””â”€â”€ S3 Buckets (æŒ‰é¡¹ç›®éš”ç¦»)
â”‚
â””â”€â”€ SageMaker å±‚
    â”œâ”€â”€ Domain (å•ä¸€ Domain)
    â”œâ”€â”€ User Profiles (æ¯ç”¨æˆ·ä¸€ä¸ª)
    â””â”€â”€ Spaces (æ¯é¡¹ç›®ä¸€ä¸ªå…±äº«ç©ºé—´)
```

### 3.2 SageMaker èµ„æºæ¨¡å‹

```
SageMaker Domain (ml-platform-domain)
â”‚
â”œâ”€â”€ User Profiles
â”‚   â”œâ”€â”€ profile-rc-alice    â”€â”€â–¶ IAM User: sm-rc-alice
â”‚   â”œâ”€â”€ profile-rc-bob      â”€â”€â–¶ IAM User: sm-rc-bob
â”‚   â”œâ”€â”€ profile-algo-frank  â”€â”€â–¶ IAM User: sm-algo-frank
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ Shared Spaces (é¡¹ç›®çº§å…±äº«)
â”‚   â”œâ”€â”€ space-rc-project-a
â”‚   â”‚   â””â”€â”€ Members: alice, bob, carol
â”‚   â”œâ”€â”€ space-rc-project-b
â”‚   â”‚   â””â”€â”€ Members: david, emma
â”‚   â”œâ”€â”€ space-algo-project-x
â”‚   â”‚   â””â”€â”€ Members: frank, grace, henry
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ Private Spaces (å¯é€‰ï¼Œä¸ªäººå®éªŒç”¨)
    â”œâ”€â”€ private-alice
    â”œâ”€â”€ private-bob
    â””â”€â”€ ...
```

---

## 4. æƒé™è¾¹ç•Œè®¾è®¡

### 4.1 æƒé™å±‚çº§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è´¦å·çº§è¾¹ç•Œ                                 â”‚
â”‚  - åªèƒ½è®¿é—®æŒ‡å®š VPC                                          â”‚
â”‚  - åªèƒ½è®¿é—®æŒ‡å®š Region                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å›¢é˜Ÿçº§è¾¹ç•Œ                                 â”‚
â”‚  - é£æ§å›¢é˜Ÿåªèƒ½è®¿é—® rc-* èµ„æº                                 â”‚
â”‚  - ç®—æ³•å›¢é˜Ÿåªèƒ½è®¿é—® algo-* èµ„æº                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    é¡¹ç›®çº§è¾¹ç•Œ                                 â”‚
â”‚  - åªèƒ½è®¿é—®æ‰€å±é¡¹ç›®çš„ S3 Bucket                               â”‚
â”‚  - åªèƒ½è®¿é—®æ‰€å±é¡¹ç›®çš„ Shared Space                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·çº§è¾¹ç•Œ                                 â”‚
â”‚  - åªèƒ½ä½¿ç”¨è‡ªå·±çš„ User Profile ç™»å½•                           â”‚
â”‚  - åªèƒ½å¯åŠ¨è‡ªå·±çš„ Private Space                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 è®¿é—®æ§åˆ¶çŸ©é˜µ

| ç”¨æˆ·  | æ‰€å±å›¢é˜Ÿ | æ‰€å±é¡¹ç›®  | å¯è®¿é—® Space         | å¯è®¿é—® S3         |
| ----- | -------- | --------- | -------------------- | ----------------- |
| alice | é£æ§     | project-a | space-rc-project-a   | rc-project-a/\*   |
| bob   | é£æ§     | project-a | space-rc-project-a   | rc-project-a/\*   |
| david | é£æ§     | project-b | space-rc-project-b   | rc-project-b/\*   |
| frank | ç®—æ³•     | project-x | space-algo-project-x | algo-project-x/\* |

---

## 5. ç½‘ç»œæ¶æ„

### 5.1 VPC æ¨¡å¼é€‰æ‹©

| æ¨¡å¼            | è¯´æ˜                      | æœ¬é¡¹ç›®é€‰æ‹© |
| --------------- | ------------------------- | ---------- |
| Public Internet | Studio é€šè¿‡ Internet è®¿é—® | âŒ         |
| VPC Only        | Studio å®Œå…¨åœ¨ VPC å†…      | âœ…         |

### 5.2 ç½‘ç»œæ‹“æ‰‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       ç°æœ‰ VPC                               â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  Private Subnet A  â”‚    â”‚  Private Subnet B  â”‚          â”‚
â”‚  â”‚    (AZ: ap-xx-1a)  â”‚    â”‚    (AZ: ap-xx-1b)  â”‚          â”‚
â”‚  â”‚                    â”‚    â”‚                    â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚          â”‚
â”‚  â”‚  â”‚ SageMaker    â”‚  â”‚    â”‚  â”‚ SageMaker    â”‚  â”‚          â”‚
â”‚  â”‚  â”‚ Studio ENI   â”‚  â”‚    â”‚  â”‚ Studio ENI   â”‚  â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚              â”‚                        â”‚                     â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚
â”‚                       â”‚                                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚              â”‚  Security Group â”‚                            â”‚
â”‚              â”‚  (SageMaker)    â”‚                            â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                       â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              VPC Endpoints                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ S3 GW    â”‚ â”‚SageMaker â”‚ â”‚SageMaker â”‚ â”‚  STS   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ Endpoint â”‚ â”‚ API      â”‚ â”‚ Runtime  â”‚ â”‚Endpointâ”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. æ•°æ®æµè®¾è®¡

### 6.1 æ•°æ®è®¿é—®è·¯å¾„

```
å¼€å‘äººå‘˜ (IAM User)
       â”‚
       â”‚ 1. AWS Console ç™»å½•
       â–¼
SageMaker Studio
       â”‚
       â”‚ 2. é€‰æ‹© User Profile
       â–¼
Notebook (åœ¨ Space ä¸­)
       â”‚
       â”‚ 3. é€šè¿‡ Execution Role è®¿é—®
       â–¼
S3 Bucket (é¡¹ç›®æ•°æ®)
```

### 6.2 æ•°æ®éš”ç¦»ç­–ç•¥

| å±‚çº§            | éš”ç¦»æ–¹å¼ | å®ç°æœºåˆ¶                          |
| --------------- | -------- | --------------------------------- |
| å›¢é˜Ÿé—´          | ç¡¬éš”ç¦»   | S3 Bucket Policy + IAM Policy     |
| é¡¹ç›®é—´          | ç¡¬éš”ç¦»   | S3 Prefix Policy + IAM Conditions |
| ç”¨æˆ·é—´ (åŒé¡¹ç›®) | å…±äº«     | åŒä¸€ Execution Role               |

---

## 7. å¾…å®Œå–„å†…å®¹

- [ ] è¯¦ç»†çš„ IAM Policy è®¾è®¡ â†’ è§ [02-IAM è®¾è®¡](./02-iam-design.md)
- [ ] VPC Endpoints é…ç½®æ¸…å• â†’ è§ [03-VPC ç½‘ç»œ](./03-vpc-network.md)
- [ ] S3 Bucket ç»“æ„è§„åˆ’ â†’ è§ [04-S3 æ•°æ®ç®¡ç†](./04-s3-data-management.md)
- [ ] SageMaker Domain é…ç½® â†’ è§ [05-SageMaker Domain](./05-sagemaker-domain.md)

---

## 8. å‚è€ƒèµ„æº

- [SageMaker Domain æ–‡æ¡£](https://docs.aws.amazon.com/sagemaker/latest/dg/sm-domain.html)
- [SageMaker Studio Spaces](https://docs.aws.amazon.com/sagemaker/latest/dg/domain-space.html)
- [IAM Best Practices](https://docs.aws.amazon.com/IAM/latest/UserGuide/best-practices.html)
